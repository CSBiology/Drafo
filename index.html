<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Drafo documentation
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="David Zimmer, Jonathan Ott,Jonathan Hochsticher, Timo Muehlhaus">
    <link rel="shortcut icon" type="image/x-icon" href="/Drafo//img/favicon.ico">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->

    <link type="text/css" rel="stylesheet" href="/Drafo/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="/Drafo/content/fsdocs-custom.css" />
    <script type="text/javascript" src="/Drafo/content/fsdocs-tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
</head> 

<body>
    <div class="columns is-fullheight m-0">
        <div id="fsdocs-menu" class="column is-2 is-paddingless">
            <aside class="menu">
                <div class="container is-paddingless is-marginless has-background-dark">
                    <a href="/Drafo/">
                        <figure class="image is-128x128 container">
                            <img src="/Drafo/img/logo.png">
                        </figure>
                    </a>
                    <h2 class="title has-text-centered has-text-white pb-4">Drafo</h2>
                </div>
                <div class="content">
                    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
                    <div id="header">
                        <div class="field">
                            <div class="control has-icons-left has-icons-right searchbox" id="fsdocs-searchbox">
                                <input data-search-input="" id="search-by" type="search" placeholder="Search..." class="input"/>
                                <span class="icon is-small is-left">
                                    <i class="fas fa-search"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <!-- END SEARCH BOX: this adds support for the search box -->
                    <ul class="navbar-nav">
                        <li class="nav-header">Links</li>
                        <li class="nav-item" id="fsdocs-license-link"><a class="nav-link" href="https://github.com/CSBiology/Drafo/blob/main/LICENSE">License (MIT)</a></li>
                        <li class="nav-item" id="fsdocs-release-notes-link"><a class="nav-link" href="https://github.com/CSBiology/Drafo/blob/main/RELEASE_NOTES.md">Release Notes</a></li>
                        <li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="https://github.com/CSBiology/Drafo/">Source Repository</a></li>
                        <li class="nav-header">
  Documentation
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Drafo/Drafo_pipeline_tutorial.html">
    Drafo_pipeline_tutorial
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Drafo/Drafo.html">
    Drafo
  </a>
</li>
                        <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="/Drafo/reference/index.html">
    All Namespaces
  </a>
</li>
                    </ul>
                </div>
            </aside>
        </div>
        <div class="column is-10 is-paddingless">
            <div class="section pt-4">
                <div class="container" id="fsdocs-content">
                    <h1><a name="Drafo-documentation" class="anchor" href="#Drafo-documentation">Drafo documentation</a></h1>
<p>This library adds a DynamicObject called <Key> that can be used as row key of Deedle frames and series.</p>
<p>The functions in this library all either create frames with <Key> objects or work with frames or series that have <Key> objects.</p>
<p>The modules allow for easy creation of filters und processing of either series or frames.</p>
<h4><a name="Table-of-contents" class="anchor" href="#Table-of-contents">Table of contents</a></h4>
<ul>
<li><p><a href="#Installation">Installation</a></p></li>
<li><p><a href="#Usage">Usage</a></p></li>
<li><p><a href="#Example">Example</a></p></li>
</ul>
<h2><a name="Installation" class="anchor" href="#Installation">Installation</a></h2>
<p>This library is available as nuget package(from <a href="">nuget</a>):</p>
<h2><a name="Usage" class="anchor" href="#Usage">Usage</a></h2>
<p>Add the NuGet package as reference and open Drafo/Drafo.Core and any module you want to use.</p>
<p>Because Drafo is build on Deedle it is highly recommended to use Deedle too.</p>
<p>You can create your own frame, with <Key> objects as row keys, transform existing frames into frames that have <Key> objects</p>
<p>or read in csv files and then transform them.</p>
<p>Then one can use the functions in the Drafo core or the modules to manipulate series or frames that have <Key> as row keys.</p>
<h2><a name="Example" class="anchor" href="#Example">Example</a></h2>
<p>We have frame of floats that we use some operations of the Drafo library on. So first we have to index it,</p>
<p>for that we have to add columns that that are turned into <Keys>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs9', 9)" onmouseover="showTip(event, 'fs9', 9)" class="id">exampleFrame</span> <span class="o">=</span> 

<span onmouseout="hideTip(event, 'fs10', 10)" onmouseover="showTip(event, 'fs10', 10)" class="fn">frame</span> <span class="pn">[</span>

<span class="pn">(</span><span class="s">&quot;Column1&quot;</span><span class="pn">)</span><span class="o">=&gt;</span><span onmouseout="hideTip(event, 'fs11', 11)" onmouseover="showTip(event, 'fs11', 11)" class="fn">series</span> <span class="pn">[</span><span class="s">&quot;row1&quot;</span><span class="o">=&gt;</span><span class="n">2.</span><span class="pn">;</span><span class="s">&quot;row2&quot;</span><span class="o">=&gt;</span><span class="n">4.5</span><span class="pn">;</span><span class="s">&quot;row3&quot;</span><span class="o">=&gt;</span><span class="n">3.7</span><span class="pn">;</span><span class="s">&quot;row4&quot;</span><span class="o">=&gt;</span><span class="n">2.9</span><span class="pn">]</span>

<span class="pn">(</span><span class="s">&quot;Column2&quot;</span><span class="pn">)</span><span class="o">=&gt;</span><span onmouseout="hideTip(event, 'fs11', 12)" onmouseover="showTip(event, 'fs11', 12)" class="fn">series</span> <span class="pn">[</span><span class="s">&quot;row1&quot;</span><span class="o">=&gt;</span><span class="n">4.</span><span class="pn">;</span><span class="s">&quot;row2&quot;</span><span class="o">=&gt;</span><span class="n">5.5</span><span class="pn">;</span><span class="s">&quot;row3&quot;</span><span class="o">=&gt;</span><span class="n">6.9</span><span class="pn">;</span><span class="s">&quot;row4&quot;</span><span class="o">=&gt;</span><span class="n">5.</span><span class="pn">]</span>

<span class="pn">]</span>



<span class="k">let</span> <span onmouseout="hideTip(event, 'fs12', 13)" onmouseover="showTip(event, 'fs12', 13)" class="fn">exampleFrameWithKeyCols</span> <span class="o">=</span>

<span class="id">exampleFrame</span>

<span class="o">|&gt;</span><span onmouseout="hideTip(event, 'fs13', 14)" onmouseover="showTip(event, 'fs13', 14)" class="m">Frame</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 15)" onmouseover="showTip(event, 'fs14', 15)" class="id">addCol</span> <span class="s">&quot;Gen&quot;</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 16)" onmouseover="showTip(event, 'fs11', 16)" class="fn">series</span> <span class="pn">[</span><span class="s">&quot;row1&quot;</span><span class="o">=&gt;</span><span class="s">&quot;A&quot;</span><span class="pn">;</span><span class="s">&quot;row2&quot;</span><span class="o">=&gt;</span><span class="s">&quot;A&quot;</span><span class="pn">;</span><span class="s">&quot;row3&quot;</span><span class="o">=&gt;</span><span class="s">&quot;A&quot;</span><span class="pn">;</span><span class="s">&quot;row4&quot;</span><span class="o">=&gt;</span><span class="s">&quot;A&quot;</span><span class="pn">]</span><span class="pn">)</span>

<span class="o">|&gt;</span><span onmouseout="hideTip(event, 'fs13', 17)" onmouseover="showTip(event, 'fs13', 17)" class="m">Frame</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 18)" onmouseover="showTip(event, 'fs14', 18)" class="id">addCol</span> <span class="s">&quot;TecRep&quot;</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 19)" onmouseover="showTip(event, 'fs11', 19)" class="fn">series</span> <span class="pn">[</span><span class="s">&quot;row1&quot;</span><span class="o">=&gt;</span><span class="s">&quot;B&quot;</span><span class="pn">;</span><span class="s">&quot;row2&quot;</span><span class="o">=&gt;</span><span class="s">&quot;B&quot;</span><span class="pn">;</span><span class="s">&quot;row3&quot;</span><span class="o">=&gt;</span><span class="s">&quot;C&quot;</span><span class="pn">;</span><span class="s">&quot;row4&quot;</span><span class="o">=&gt;</span><span class="s">&quot;C&quot;</span><span class="pn">]</span><span class="pn">)</span>

<span class="o">|&gt;</span><span onmouseout="hideTip(event, 'fs13', 20)" onmouseover="showTip(event, 'fs13', 20)" class="m">Frame</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 21)" onmouseover="showTip(event, 'fs14', 21)" class="id">addCol</span> <span class="s">&quot;BioRep&quot;</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs11', 22)" onmouseover="showTip(event, 'fs11', 22)" class="fn">series</span> <span class="pn">[</span><span class="s">&quot;row1&quot;</span><span class="o">=&gt;</span><span class="s">&quot;D&quot;</span><span class="pn">;</span><span class="s">&quot;row2&quot;</span><span class="o">=&gt;</span><span class="s">&quot;E&quot;</span><span class="pn">;</span><span class="s">&quot;row3&quot;</span><span class="o">=&gt;</span><span class="s">&quot;D&quot;</span><span class="pn">;</span><span class="s">&quot;row4&quot;</span><span class="o">=&gt;</span><span class="s">&quot;E&quot;</span><span class="pn">]</span><span class="pn">)</span>



<span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 23)" onmouseover="showTip(event, 'fs15', 23)" class="fn">indexedFrameWithKeyCols</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 24)" onmouseover="showTip(event, 'fs16', 24)" class="fn">indexWithColumnValues</span> <span class="pn">[</span><span class="s">&quot;Gen&quot;</span><span class="pn">;</span><span class="s">&quot;TecRep&quot;</span><span class="pn">;</span><span class="s">&quot;BioRep&quot;</span><span class="pn">]</span> <span class="id">exampleFrameWithKeyCols</span>

<span onmouseout="hideTip(event, 'fs15', 25)" onmouseover="showTip(event, 'fs15', 25)" class="fn">indexedFrameWithKeyCols</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 26)" onmouseover="showTip(event, 'fs17', 26)" class="id">Print</span><span class="pn">(</span><span class="pn">)</span>
</code></pre>
<table class="pre"><tr><td><pre><code></code></pre></td></tr></table>
<p>as you can see, we have now a multi-tiered Key for each row that is unique. from this point one can go in several directions,</p>
<p>for example, one could subtract or add to all values in a series (Column) with the <code>transform</code> function or one could create</p>
<p>filters with the modules <code>GroupFilter</code> or <code>NumericFilter</code> or the <code>filter</code> function. Here we want to aggregate a single column.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 27)" onmouseover="showTip(event, 'fs18', 27)" class="fn">singleColumnAggregateMean</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs19', 28)" onmouseover="showTip(event, 'fs19', 28)" class="fn">numAggregat</span> <span onmouseout="hideTip(event, 'fs20', 29)" onmouseover="showTip(event, 'fs20', 29)" class="uc">Mean</span> <span onmouseout="hideTip(event, 'fs15', 30)" onmouseover="showTip(event, 'fs15', 30)" class="fn">indexedFrameWithKeyCols</span> <span class="s">&quot;Column1&quot;</span> <span class="pn">[</span><span class="s">&quot;Gen&quot;</span><span class="pn">;</span><span class="s">&quot;TecRep&quot;</span><span class="pn">]</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs21', 31)" onmouseover="showTip(event, 'fs21', 31)" class="fn">seq</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs18', 32)" onmouseover="showTip(event, 'fs18', 32)" class="fn">singleColumnAggregateMean</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs22', 33)" onmouseover="showTip(event, 'fs22', 33)" class="id">Print</span><span class="pn">(</span><span class="pn">)</span>
</code></pre>
<table class="pre"><tr><td><pre><code></code></pre></td></tr></table>

                </div>
            </div>
        </div>
        <div class="fsdocs-tip" id="fs1">namespace Deedle</div>
<div class="fsdocs-tip" id="fs2">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs3">namespace FSharp.Stats</div>
<div class="fsdocs-tip" id="fs4">namespace FSharpAux</div>
<div class="fsdocs-tip" id="fs5">namespace Drafo</div>
<div class="fsdocs-tip" id="fs6">module Core

from Drafo</div>
<div class="fsdocs-tip" id="fs7">namespace NumericAggregation</div>
<div class="fsdocs-tip" id="fs8">module NumericAggregation

from NumericAggregation</div>
<div class="fsdocs-tip" id="fs9">val exampleFrame: obj</div>
<div class="fsdocs-tip" id="fs10">val frame: columns: seq&lt;&#39;a * #ISeries&lt;&#39;c&gt;&gt; -&gt; Frame&lt;&#39;c,&#39;a&gt; (requires equality and equality)</div>
<div class="fsdocs-tip" id="fs11">val series: observations: seq&lt;&#39;a * &#39;b&gt; -&gt; Series&lt;&#39;a,&#39;b&gt; (requires equality)</div>
<div class="fsdocs-tip" id="fs12">val exampleFrameWithKeyCols: unit</div>
<div class="fsdocs-tip" id="fs13">Multiple items<br />module Frame

from Deedle<br /><br />--------------------<br />type Frame =
  static member ReadCsv: location: string * hasHeaders: Nullable&lt;bool&gt; * inferTypes: Nullable&lt;bool&gt; * inferRows: Nullable&lt;int&gt; * schema: string * separators: string * culture: string * maxRows: Nullable&lt;int&gt; * missingValues: string[] * preferOptions: bool -&gt; Frame&lt;int,string&gt; + 1 overload
  static member ReadReader: reader: IDataReader -&gt; Frame&lt;int,string&gt;
  static member CustomExpanders: Dictionary&lt;Type,Func&lt;obj,seq&lt;string * Type * obj&gt;&gt;&gt;
  static member NonExpandableInterfaces: ResizeArray&lt;Type&gt;
  static member NonExpandableTypes: HashSet&lt;Type&gt;<br /><br />--------------------<br />type Frame&lt;&#39;TRowKey,&#39;TColumnKey (requires equality and equality)&gt; =
  interface IDynamicMetaObjectProvider
  interface INotifyCollectionChanged
  interface IFsiFormattable
  interface IFrame
  new: rowIndex: IIndex&lt;&#39;TRowKey&gt; * columnIndex: IIndex&lt;&#39;TColumnKey&gt; * data: IVector&lt;IVector&gt; * indexBuilder: IIndexBuilder * vectorBuilder: IVectorBuilder -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; + 1 overload
  member AddColumn: column: &#39;TColumnKey * series: seq&lt;&#39;V&gt; -&gt; unit + 3 overloads
  member AggregateRowsBy: groupBy: seq&lt;&#39;TColumnKey&gt; * aggBy: seq&lt;&#39;TColumnKey&gt; * aggFunc: Func&lt;Series&lt;&#39;TRowKey,&#39;a&gt;,&#39;b&gt; -&gt; Frame&lt;int,&#39;TColumnKey&gt;
  member Clone: unit -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;
  member ColumnApply: f: Func&lt;Series&lt;&#39;TRowKey,&#39;T&gt;,ISeries&lt;&#39;TRowKey&gt;&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; + 1 overload
  member DropColumn: column: &#39;TColumnKey -&gt; unit
  ...<br /><br />--------------------<br />new: names: seq&lt;&#39;TColumnKey&gt; * columns: seq&lt;ISeries&lt;&#39;TRowKey&gt;&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />new: rowIndex: Indices.IIndex&lt;&#39;TRowKey&gt; * columnIndex: Indices.IIndex&lt;&#39;TColumnKey&gt; * data: IVector&lt;IVector&gt; * indexBuilder: Indices.IIndexBuilder * vectorBuilder: Vectors.IVectorBuilder -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;</div>
<div class="fsdocs-tip" id="fs14">val addCol: column: &#39;C -&gt; series: Series&lt;&#39;R,&#39;V&gt; -&gt; frame: Frame&lt;&#39;R,&#39;C&gt; -&gt; Frame&lt;&#39;R,&#39;C&gt; (requires equality and equality)</div>
<div class="fsdocs-tip" id="fs15">val indexedFrameWithKeyCols: Frame&lt;Key,string&gt;</div>
<div class="fsdocs-tip" id="fs16">val indexWithColumnValues: keyCols: seq&lt;string&gt; -&gt; f: Frame&lt;&#39;a,string&gt; -&gt; Frame&lt;Key,string&gt; (requires equality)<br /><em>&lt;summary&gt;
 index a frame by selecting the columns that are used to create  row keys of type Key 
 &lt;/summary&gt;<br />&lt;param name=&quot;keyCols&quot;&gt;columns containing strings that are used for Key creation&lt;/param&gt;<br />&lt;param name=&quot;f&quot;&gt;frame which is indexed&lt;/param&gt;</em></div>
<div class="fsdocs-tip" id="fs17">static member FrameExtensions.Print: frame: Frame&lt;&#39;K,&#39;V&gt; -&gt; unit (requires equality and equality)<br />static member FrameExtensions.Print: frame: Frame&lt;&#39;K,&#39;V&gt; * printTypes: bool -&gt; unit (requires equality and equality)</div>
<div class="fsdocs-tip" id="fs18">val singleColumnAggregateMean: Series&lt;Key,float&gt;</div>
<div class="fsdocs-tip" id="fs19">val numAggregat: aggregation: NumericAggregation -&gt; fp: Frame&lt;Key,string&gt; -&gt; col: string -&gt; keyC: seq&lt;string&gt; -&gt; filterCols: seq&lt;Series&lt;Key,bool&gt;&gt; -&gt; Series&lt;Key,float&gt;<br /><em>&lt;summary&gt;
 aggregates floats in a column that have idendical row keys, after part of the key is droped. 
 &lt;/summary&gt;<br />&lt;param name=&quot;aggregation&quot;&gt;has the methodes Mean, Median and Sum&lt;/param&gt;<br />&lt;param name=&quot;fp&quot;&gt;frame on which the operation is used&lt;/param&gt;<br />&lt;param name=&quot;col&quot;&gt;Column of the frame that should be aggregated&lt;/param&gt;<br />&lt;param name=&quot;keyC&quot;&gt;seq of string containing the first part of Keys that shall not be dropped&lt;/param&gt;<br />&lt;param name=&quot;filterCols&quot;&gt;series of Key,bool that has the same keys as the frame&lt;/param&gt;</em></div>
<div class="fsdocs-tip" id="fs20">union case NumericAggregation.Mean: NumericAggregation</div>
<div class="fsdocs-tip" id="fs21">Multiple items<br />val seq: sequence: seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><em>&lt;summary&gt;Builds a sequence using sequence expression syntax&lt;/summary&gt;<br />&lt;param name=&quot;sequence&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;example id=&quot;seq-cast-example&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 seq { for i in 0..10 do yield (i, i*i) }
 &lt;/code&gt;&lt;/example&gt;</em><br /><br />--------------------<br />type seq&lt;&#39;T&gt; = System.Collections.Generic.IEnumerable&lt;&#39;T&gt;<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Collections.Generic.IEnumerable`1&quot; /&gt;&lt;/summary&gt;<br />&lt;remarks&gt;
  See the &lt;see cref=&quot;T:Microsoft.FSharp.Collections.SeqModule&quot; /&gt; module for further operations related to sequences.

  See also &lt;a href=&quot;https://docs.microsoft.com/dotnet/fsharp/language-reference/sequences&quot;&gt;F# Language Guide - Sequences&lt;/a&gt;.
&lt;/remarks&gt;</em></div>
<div class="fsdocs-tip" id="fs22">static member SeriesExtensions.Print: series: Series&lt;&#39;K,&#39;V&gt; -&gt; unit (requires equality)</div>

    </div>

    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <script type="text/javascript">var fsdocs_search_baseurl = '/Drafo/'</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
    <script type="text/javascript" src="/Drafo/content/fsdocs-search.js"></script>
    <!-- END SEARCH BOX: this adds support for the search box -->
</body>

</html>